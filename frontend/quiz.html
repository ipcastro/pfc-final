<!doctype html>
<html lang="pt-br" class="light">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Quiz de Cinem√°tica - Fant√°stico mundo da F√≠sica</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link rel="stylesheet" href="css/custom-styles.css" />
        <script>
            tailwind.config = {
                darkMode: "class",
            };
        </script>
    <style>
        /* Estilos para os bot√µes de op√ß√£o do quiz */
        .option-btn.correct {
            background-color: #10B981; /* green-500 */
            color: white;
            border-color: #059669; /* green-600 */
        }
        .option-btn.incorrect {
            background-color: #EF4444; /* red-500 */
            color: white;
            border-color: #DC2626; /* red-600 */
        }
        /* Estilos para os bot√µes de feedback de satisfa√ß√£o */
        .feedback-btn.satisfeito.selected {
            background-color: #10B981; /* green-500 */
            color: white;
        }
        .feedback-btn.neutro.selected {
            background-color: #F59E0B; /* amber-500 */
            color: white;
        }
        .feedback-btn.nao-satisfeito.selected {
            background-color: #EF4444; /* red-500 */
            color: white;
        }
    </style>
</head>

    <body class="bg-gray-100 dark:bg-gray-900 transition-colors duration-300">
        <nav
            class="bg-white/80 dark:bg-gray-900/80 shadow-sm sticky top-0 z-50 backdrop-blur-lg"
        >
            <div
                class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto px-4 py-3"
            >
                <!-- Logo (Esquerda) -->
                <div class="flex items-center space-x-2 md:space-x-3 flex-shrink-0">
                    <a
                        href="index.html"
                        class="flex items-center space-x-2 md:space-x-3 group"
                    >
                        <img
                            src="img/logopng.png"
                            class="h-8 sm:h-10 md:h-12 flex-shrink-0 transition-transform duration-300 group-hover:scale-105"
                            alt="Fant√°stico mundo da F√≠sica Logo"
                        />
                        <span
                            class="self-center text-xs sm:text-sm md:text-xl lg:text-2xl font-semibold whitespace-nowrap dark:text-white"
                        >
                            <span class="hidden sm:inline">Fant√°stico mundo da F√≠sica</span>
                            <span class="sm:hidden">FMF</span>
                        </span>
                    </a>
                </div>

                <!-- Links de Navega√ß√£o (Centro) -->
                <div class="hidden lg:flex items-center justify-center flex-1">
                    <ul class="flex items-center space-x-4 xl:space-x-6 font-medium">
                        <li>
                            <a
                                href="index.html"
                                class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent transition-colors duration-200"
                                >In√≠cio</a
                            >
                        </li>
                        <li>
                            <a
                                href="personagens.html"
                                class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent transition-colors duration-200"
                                >Personagens</a
                            >
                        </li>
                        <li>
                            <a
                                href="o-que-aprender.html"
                                class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent transition-colors duration-200"
                                >Aprender</a
                            >
                        </li>
                        <li>
                            <a
                                href="hq.html"
                                class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent transition-colors duration-200"
                                >HQ</a
                            >
                        </li>
                        <li>
                            <a
                                href="contato.html"
                                class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent transition-colors duration-200"
                                >Contato</a
                            >
                        </li>
                    </ul>
                </div>

                <!-- Op√ß√µes do Usu√°rio (Direita) -->
                <div class="flex items-center space-x-2 md:space-x-3 flex-shrink-0">
                    <div id="theme-toggle-container" class="hidden md:block"></div>
                    <div id="theme-toggle-container-mobile" class="md:hidden"></div>
                    <div id="user-status-container" class="hidden md:flex items-center space-x-2"></div>
                    <button
                        data-collapse-toggle="navbar-default"
                        type="button"
                        class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
                        aria-controls="navbar-default"
                        aria-expanded="false"
                    >
                        <span class="sr-only">Open main menu</span>
                        <svg
                            class="w-5 h-5"
                            aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg"
                            fill="none"
                            viewBox="0 0 17 14"
                        >
                            <path
                                stroke="currentColor"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M1 1h15M1 7h15M1 13h15"
                            />
                        </svg>
                    </button>
                </div>

                <!-- Menu Mobile (oculto por padr√£o) -->
                <div
                    class="hidden w-full lg:hidden"
                    id="navbar-default"
                >
                    <!-- Status do Usu√°rio Mobile -->
                    <div id="user-status-container-mobile" class="p-4 border-b border-gray-200 dark:border-gray-700">
                        <!-- User status mobile will be inserted here -->
                    </div>
                    <ul
                        class="flex flex-col p-4 mt-0 font-medium border border-gray-100 rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700 space-y-2"
                    >
                        <li>
                            <a
                                href="index.html"
                                class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700 transition-colors duration-200"
                                >In√≠cio</a
                            >
                        </li>
                        <li>
                            <a
                                href="personagens.html"
                                class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700 transition-colors duration-200"
                                >Personagens</a
                            >
                        </li>
                        <li>
                            <a
                                href="o-que-aprender.html"
                                class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700 transition-colors duration-200"
                                >Aprender</a
                            >
                        </li>
                        <li>
                            <a
                                href="hq.html"
                                class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700 transition-colors duration-200"
                                >HQ</a
                            >
                        </li>
                        <li>
                            <a
                                href="contato.html"
                                class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700 transition-colors duration-200"
                                >Contato</a
                            >
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <main class="container mx-auto mt-10 p-4">
            <div
                id="quiz-container"
                class="w-full max-w-3xl mx-auto bg-white dark:bg-gray-800/50 dark:backdrop-blur-lg p-6 sm:p-8 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700"
            >
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <h1
                            class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white"
                        >
                            Quiz de Cinem√°tica
                        </h1>
                        <p class="text-gray-500 dark:text-gray-400">
                            Teste seus conhecimentos!
                        </p>
                    </div>
                    <div
                        id="score-container"
                        class="font-bold text-lg text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/50 px-4 py-2 rounded-lg"
                    ></div>
                </div>
                <div
                    class="w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700 mb-6 overflow-hidden"
                >
                    <div
                        id="progress-bar"
                        class="bg-blue-600 h-2.5 rounded-full transition-all duration-500 ease-out"
                        style="width: 0%"
                    ></div>
                </div>
                <div id="question-container" class="mb-6 min-h-[6rem]">
                    <p
                        id="question-text"
                        class="text-xl sm:text-2xl font-semibold text-gray-800 dark:text-gray-200"
                    ></p>
                </div>
                <div id="options-container" class="space-y-4">
                    <!-- As op√ß√µes do quiz ser√£o inseridas aqui -->
                </div>
                <div
                    id="feedback-container"
                    class="mt-6 p-4 rounded-lg bg-gray-100 dark:bg-gray-900/50 min-h-[6rem]"
                >
                    <!-- Feedback (correto/incorreto) ser√° mostrado aqui -->
                </div>
                <div class="flex justify-end items-center mt-6">
                    <button
                        id="next-button"
                        class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-8 py-3 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 hidden transform transition-transform hover:scale-105"
                    >
                        Pr√≥xima
                    </button>
                </div>
            </div>

            <div
                id="results-container"
                class="w-full max-w-3xl mx-auto bg-white dark:bg-gray-800/50 dark:backdrop-blur-lg p-8 rounded-2xl shadow-2xl text-center hidden border border-gray-200 dark:border-gray-700"
            >
                <h2
                    class="text-3xl font-bold text-gray-900 dark:text-white mb-4"
                >
                    Resultados do Quiz
                </h2>
                <p
                    id="final-score"
                    class="text-xl text-gray-800 dark:text-gray-200 mb-4"
                ></p>
                <div class="text-6xl mb-6">üéâ</div>
                <p
                    id="result-message"
                    class="text-lg text-gray-600 dark:text-gray-300 mb-8"
                ></p>
                <button
                    id="restart-button"
                    class="w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-3 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 transform transition-transform hover:scale-105"
                >
                    Tentar Novamente
                </button>
            </div>

            <div id="quiz-feedback-section" class="w-full max-w-3xl mx-auto mt-6 text-center hidden">
                <div id="feedback-form" class="bg-white dark:bg-gray-800/50 dark:backdrop-blur-lg p-8 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700">
                    <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-6">O que achou do Quiz?</h3>
                    <div id="satisfaction-buttons" class="flex justify-center space-x-4 mb-6">
                        <button data-feedback="Satisfeito" class="feedback-btn text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-green-100 dark:hover:bg-green-800 font-medium rounded-lg text-base px-6 py-3 transform transition-all duration-200 hover:scale-105">üòÅ Satisfeito</button>
                        <button data-feedback="Neutro" class="feedback-btn text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-yellow-100 dark:hover:bg-yellow-800 font-medium rounded-lg text-base px-6 py-3 transform transition-all duration-200 hover:scale-105">üòë Neutro</button>
                        <button data-feedback="üòû N√£o Satisfeito" class="feedback-btn text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-red-100 dark:hover:bg-red-800 font-medium rounded-lg text-base px-6 py-3 transform transition-all duration-200 hover:scale-105">üòû N√£o Satisfeito</button>
                    </div>
                    <div id="opinion-section" class="hidden">
                        <label for="opinion-textarea" class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300">Sua opini√£o (opcional):</label>
                        <textarea id="opinion-textarea" rows="4" class="b99lock p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Deixe seu coment√°rio..."></textarea>
                        <button id="submit-feedback-btn" class="mt-6 w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-3 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 transform transition-transform hover:scale-105">Enviar Feedback</button>
                    </div>
                </div>
                <div id="feedback-thanks" class="bg-white dark:bg-gray-800/50 dark:backdrop-blur-lg p-8 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 hidden">
                    <p class="text-2xl font-bold text-green-500">Obrigado pelo seu feedback!</p>
                </div>
            </div>
        </main>

        <script src="js/api-config.js"></script>
        <script src="js/auth.js"></script>
        <script>
            // Protege a p√°gina
            if (!isAuthenticated()) {
                redirectToLogin(window.location.href);
            }
        </script>
        <script src="js/navbar-mobile.js"></script>
        <script src="js/quiz.js"></script>
        <script src="js/theme-switcher.js"></script>
        <script src="js/user-status.js"></script>
    </body>
</html>
